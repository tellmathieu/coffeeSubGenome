Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                        count
-----------------------  -------
all                            1
chooseOptionsForFlo            2
convertChrHints                2
removeGenesFromHintsGFF        2
runLiftOverSubGenomes          2
total                          9

Select jobs to execute...

[Mon Aug 19 16:32:50 2024]
rule convertChrHints:
    input: /home/tmathieu/testingCofSM/chrConversion.txt, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints.gff
    output: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints_converted.gff
    jobid: 19
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints_converted.gff
    wildcards: subgenome=subEugenioides
    resources: tmpdir=/tmp


		lines=$(cat /home/tmathieu/testingCofSM/chrConversion.txt | wc -l)
		line=1
		cp /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints.gff temp_subEugenioides_chr_hints.gff

		while [ $line -le $lines ]
			do
				oldChrName=$(awk '{ print $1 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				newChrName=$(awk '{ print $2 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				sed -i -e "s/$oldChrName/$newChrName/g" temp_subEugenioides_chr_hints.gff
				let line++
			done

		mv temp_subEugenioides_chr_hints.gff /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints_converted.gff
	

[Mon Aug 19 16:32:50 2024]
rule convertChrHints:
    input: /home/tmathieu/testingCofSM/chrConversion.txt, /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints.gff
    output: /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints_converted.gff
    jobid: 27
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints_converted.gff
    wildcards: subgenome=subCanephora
    resources: tmpdir=/tmp


		lines=$(cat /home/tmathieu/testingCofSM/chrConversion.txt | wc -l)
		line=1
		cp /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints.gff temp_subCanephora_chr_hints.gff

		while [ $line -le $lines ]
			do
				oldChrName=$(awk '{ print $1 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				newChrName=$(awk '{ print $2 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				sed -i -e "s/$oldChrName/$newChrName/g" temp_subCanephora_chr_hints.gff
				let line++
			done

		mv temp_subCanephora_chr_hints.gff /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints_converted.gff
	
[Mon Aug 19 16:36:49 2024]
Finished job 27.
1 of 9 steps (11%) done
Select jobs to execute...

[Mon Aug 19 16:36:49 2024]
rule removeGenesFromHintsGFF:
    input: /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints_converted.gff
    output: /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_nogenes_hints.gff
    jobid: 26
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_nogenes_hints.gff; Input files updated by another job: /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints_converted.gff; Set of input files has changed since last execution; Code has changed since last execution
    wildcards: subgenome=subCanephora
    resources: tmpdir=/tmp


		/data/data2/homes/tmathieu/testingCofSM/flo/gff_remove_feats.rb 		gene 		/data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_hints_converted.gff 		> /data/data2/homes/tmathieu/testingCofSM/subCanephora/subCanephora_nogenes_hints.gff
	
[Mon Aug 19 16:36:53 2024]
Finished job 19.
2 of 9 steps (22%) done
Select jobs to execute...

[Mon Aug 19 16:36:53 2024]
rule removeGenesFromHintsGFF:
    input: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints_converted.gff
    output: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_nogenes_hints.gff
    jobid: 18
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_nogenes_hints.gff; Input files updated by another job: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints_converted.gff; Set of input files has changed since last execution; Code has changed since last execution
    wildcards: subgenome=subEugenioides
    resources: tmpdir=/tmp


		/data/data2/homes/tmathieu/testingCofSM/flo/gff_remove_feats.rb 		gene 		/data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_hints_converted.gff 		> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_nogenes_hints.gff
	
[Mon Aug 19 16:38:02 2024]
Finished job 18.
3 of 9 steps (33%) done
Select jobs to execute...

[Mon Aug 19 16:38:02 2024]
rule chooseOptionsForFlo:
    input: /data/data2/homes/tmathieu/testingCofSM/flo/CITATION.cff, /data/data2/homes/tmathieu/testingCofSM/flo/README.md, /data/data2/homes/tmathieu/testingCofSM/flo/Rakefile, /data/data2/homes/tmathieu/testingCofSM/flo/gff_compare.rb, /data/data2/homes/tmathieu/testingCofSM/flo/gff_helpers.rb, /data/data2/homes/tmathieu/testingCofSM/flo/gff_longest_transcripts.rb, /data/data2/homes/tmathieu/testingCofSM/flo/gff_recover.rb, /data/data2/homes/tmathieu/testingCofSM/flo/gff_remove_feats.rb, /data/data2/homes/tmathieu/testingCofSM/flo/opts_example.yaml, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/all_mrna.rb, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/all_mrna_cds.rb, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/clean_NCBI_gff.sh, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/how_many_split_across_scaffolds.rb, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/install.sh, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/longest_mrna.rb, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/longest_mrna_cds.rb, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/qa.rb, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/remove_mitochondrial_annotations.sh, /data/data2/homes/tmathieu/testingCofSM/flo/scripts/trim_NCBI_seqids_to_accession_numbers.sh, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_Cara_1.0_final.fa, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_Cara_hifi_final.fa, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_nogenes_hints.gff
    output: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
    jobid: 17
    reason: Input files updated by another job: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_nogenes_hints.gff
    wildcards: subgenome=subEugenioides
    resources: tmpdir=/tmp


		echo ":add_to_path:" > /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo "  - 'ext/kent/bin'" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo "  - 'ext/parallel-20150722/src'" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo "  - 'ext/genometools-1.5.6/bin'" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo ":source_fa: '/data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_Cara_1.0_final.fa'" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo ":target_fa: '/data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_Cara_hifi_final.fa'" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo ":processes: '20'" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo ":blat_opts: '-fastMap -tileSize=12 -minIdentity=98'"  >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo ":lift:" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
		echo "  - '/data/data2/homes/tmathieu/testingCofSM/subEugenioides/subEugenioides_nogenes_hints.gff'" >> /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
	
[Mon Aug 19 16:38:02 2024]
Finished job 17.
4 of 9 steps (44%) done
Select jobs to execute...
[Mon Aug 19 16:38:05 2024]
Finished job 26.
5 of 9 steps (56%) done

[Mon Aug 19 16:38:05 2024]
rule runLiftOverSubGenomes:
    input: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml, /data/data2/homes/tmathieu/testingCofSM/floInstallDone.txt
    output: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/lifted.gff3, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/unlifted.gff3, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/lifted_cleaned.gff, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/unmapped.txt
    jobid: 33
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/unlifted.gff3, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/lifted.gff3, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/lifted_cleaned.gff, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/unmapped.txt; Input files updated by another job: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml
    wildcards: subgenome=subEugenioides
    threads: 20
    resources: tmpdir=/tmp


		bash /data/data2/homes/tmathieu/testingCofSM/scripts/runFlo.sh /data/data2/homes/tmathieu/testingCofSM/subEugenioides /data/data2/homes/tmathieu/testingCofSM/flo/Rakefile
	
[Mon Aug 19 16:38:05 2024]
Error in rule runLiftOverSubGenomes:
    jobid: 33
    input: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/flo_opts.yaml, /data/data2/homes/tmathieu/testingCofSM/floInstallDone.txt
    output: /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/lifted.gff3, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/unlifted.gff3, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/lifted_cleaned.gff, /data/data2/homes/tmathieu/testingCofSM/subEugenioides/run/unmapped.txt
    shell:
        
		bash /data/data2/homes/tmathieu/testingCofSM/scripts/runFlo.sh /data/data2/homes/tmathieu/testingCofSM/subEugenioides /data/data2/homes/tmathieu/testingCofSM/flo/Rakefile
	
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-08-19T163249.426101.snakemake.log
