Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                 count
----------------  -------
all                     1
convertChrGenome        2
rmUnknownsGenome        2
total                   5

Select jobs to execute...

[Wed Aug 14 17:11:48 2024]
rule convertChrGenome:
    input: /home/tmathieu/testingCofSM/chrConversion.txt, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa
    output: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_converted.fa
    jobid: 2
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_converted.fa
    wildcards: genome=Cara_1.0
    resources: tmpdir=/tmp


		lines=$(cat /home/tmathieu/testingCofSM/chrConversion.txt | wc -l)
		line=1
		cp /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa temp_Cara_1.0_chr.fa

		while [ $line -le $lines ]
			do
				oldChrName=$(awk '{ print $1 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				newChrName=$(awk '{ print $2 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				sed -i -e "s/$oldChrName/$newChrName/g" temp_Cara_1.0_chr.fa
				let line++
			done

		mv temp_Cara_1.0_chr.fa /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_converted.fa
	

[Wed Aug 14 17:11:48 2024]
rule convertChrGenome:
    input: /home/tmathieu/testingCofSM/chrConversion.txt, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa
    output: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_converted.fa
    jobid: 7
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_converted.fa
    wildcards: genome=Cara_hifi
    resources: tmpdir=/tmp


		lines=$(cat /home/tmathieu/testingCofSM/chrConversion.txt | wc -l)
		line=1
		cp /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa temp_Cara_hifi_chr.fa

		while [ $line -le $lines ]
			do
				oldChrName=$(awk '{ print $1 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				newChrName=$(awk '{ print $2 }' /home/tmathieu/testingCofSM/chrConversion.txt | awk -v var1="$line" 'NR==var1')
				sed -i -e "s/$oldChrName/$newChrName/g" temp_Cara_hifi_chr.fa
				let line++
			done

		mv temp_Cara_hifi_chr.fa /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_converted.fa
	
[Wed Aug 14 17:12:35 2024]
Finished job 2.
1 of 5 steps (20%) done
Select jobs to execute...

[Wed Aug 14 17:12:35 2024]
rule rmUnknownsGenome:
    input: /home/tmathieu/testingCofSM/chrConversion.txt, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_converted.fa
    output: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_final.fa
    jobid: 1
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_final.fa; Input files updated by another job: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_converted.fa; Set of input files has changed since last execution; Code has changed since last execution
    wildcards: genome=Cara_1.0
    resources: tmpdir=/tmp

RuleException in rule rmUnknownsGenome in file /data/data2/homes/tmathieu/testingCofSM/1snake.smk, line 121:
NameError: The name 'p; n;p' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}, when formatting the following:

		lines=$(cat {input.chrConversion} | wc -l)
		line=1
		rm temp_{wildcards.genome}_rep.fa || true

		while [ $line -le $lines ]
			do
				newChrName=$(awk '{{ print $2 }}' {input.chrConversion} | awk -v var1="$line" 'NR==var1')
				sed -n '/$newChrName/ {p; n;p}' {input.genomeConverted} > temp_{wildcards.genome}_rep.fa
				let line++
			done

		mv temp_{wildcards.genome}_rep.fa {output.genomeFinal}
	
