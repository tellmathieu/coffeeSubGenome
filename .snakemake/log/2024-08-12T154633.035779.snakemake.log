Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                count
---------------  -------
all                    1
cleanGenomes           1
downloadGenomes        1
total                  3

Select jobs to execute...

[Mon Aug 12 15:46:33 2024]
rule downloadGenomes:
    output: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    jobid: 2
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    resources: tmpdir=/tmp


		# download genomes used - original (used by Thales) and new (from the nature article)
		wget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/003/713/225/GCF_003713225.1_Cara_1.0/GCF_003713225.1_Cara_1.0_genomic.fna.gz
		wget https://bioinformatics.psb.ugent.be/gdb/coffea_arabica/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz

		# make directory and move genomes into it
		mkdir -p /data/data2/homes/tmathieu/testingCofSM/genome
		mv GCF_003713225.1_Cara_1.0_genomic.fna.gz /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz
		mv Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
	
[Mon Aug 12 15:49:10 2024]
Finished job 2.
1 of 3 steps (33%) done
Select jobs to execute...

[Mon Aug 12 15:49:10 2024]
rule cleanGenomes:
    input: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    output: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa
    jobid: 1
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa; Input files updated by another job: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    resources: tmpdir=/tmp


		# unzip clean prevGenome
		gunzip -k /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz
		prevGenomeUnzipped=$(echo /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz | rev | cut -d"." -f2- | rev)
		awk '{print $1}' $hifiGenomeUnzipped > temp_prev_genome1.fa
		sed -e 's/\(^>.*$\)/##/' temp_prev_genome1.fa | tr -d "" | tr -d "
" | sed -e 's/$/#/' | tr "#" "
" | sed -e '/^$/d' > /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa

		# unzip clean hifiGenome
		gunzip -k /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
		hifiGenomeUnzipped=$(echo /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz | rev | cut -d"." -f2- | rev)
		awk '{print $1}' $hifiGenomeUnzipped > temp_hifi_genome1.fa
		sed -e 's/\(^>.*$\)/##/' temp_hifi_genome1.fa | tr -d "" | tr -d "
" | sed -e 's/$/#/' | tr "#" "
" | sed -e '/^$/d' > /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa
	
[Mon Aug 12 16:03:42 2024]
Error in rule cleanGenomes:
    jobid: 1
    input: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    output: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa
    shell:
        
		# unzip clean prevGenome
		gunzip -k /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz
		prevGenomeUnzipped=$(echo /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz | rev | cut -d"." -f2- | rev)
		awk '{print $1}' $hifiGenomeUnzipped > temp_prev_genome1.fa
		sed -e 's/\(^>.*$\)/##/' temp_prev_genome1.fa | tr -d "" | tr -d "
" | sed -e 's/$/#/' | tr "#" "
" | sed -e '/^$/d' > /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa

		# unzip clean hifiGenome
		gunzip -k /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
		hifiGenomeUnzipped=$(echo /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz | rev | cut -d"." -f2- | rev)
		awk '{print $1}' $hifiGenomeUnzipped > temp_hifi_genome1.fa
		sed -e 's/\(^>.*$\)/##/' temp_hifi_genome1.fa | tr -d "" | tr -d "
" | sed -e 's/$/#/' | tr "#" "
" | sed -e '/^$/d' > /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa
	
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-08-12T154633.035779.snakemake.log
