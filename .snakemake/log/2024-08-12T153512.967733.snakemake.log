Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 20
Rules claiming more threads will be scaled down.
Job stats:
job                count
---------------  -------
all                    1
cleanGenomes           1
downloadGenomes        1
total                  3

Select jobs to execute...

[Mon Aug 12 15:35:13 2024]
rule downloadGenomes:
    output: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    jobid: 2
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    resources: tmpdir=/tmp


		# download genomes used - original (used by Thales) and new (from the nature article)
		wget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/003/713/225/GCF_003713225.1_Cara_1.0/GCF_003713225.1_Cara_1.0_genomic.fna.gz
		wget https://bioinformatics.psb.ugent.be/gdb/coffea_arabica/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz

		# make directory and move genomes into it
		mkdir -p /data/data2/homes/tmathieu/testingCofSM/genome
		mv GCF_003713225.1_Cara_1.0_genomic.fna.gz /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz
		mv Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
	
[Mon Aug 12 15:37:08 2024]
Finished job 2.
1 of 3 steps (33%) done
Select jobs to execute...

[Mon Aug 12 15:37:08 2024]
rule cleanGenomes:
    input: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    output: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa
    jobid: 1
    reason: Missing output files: /data/data2/homes/tmathieu/testingCofSM/genome/Cara_hifi_cleaned.fa, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_1.0_cleaned.fa; Input files updated by another job: /data/data2/homes/tmathieu/testingCofSM/genome/GCF_003713225.1_Cara_1.0_genomic.fna.gz, /data/data2/homes/tmathieu/testingCofSM/genome/Cara_r6_tgs15k_ChrNames_racon_w3kb_chrs_NoOrganelles.flip.fix.fa.gz
    resources: tmpdir=/tmp

RuleException in rule cleanGenomes in file /data/data2/homes/tmathieu/testingCofSM/snake.smk, line 75:
NameError: The name 'print $1' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}, when formatting the following:

		# unzip clean prevGenome
		gunzip {input.prevGenomeFile}
		prevGenomeUnzipped=$(echo {input.prevGenomeFile} | rev | cut -d"." -f2- | rev)
		awk '{print $1}' $prevGenomeUnzipped > temp_prev_genome.fa
		mv temp_prev_genome.fa > $prevGenomeUnzipped
		sed -e 's/\(^>.*$\)/##/' $prevGenomeUnzipped | tr -d "" | tr -d "
" | sed -e 's/$/#/' | tr "#" "
" | sed -e '/^$/d' > {output.prevGenomeCleaned}

		# unzip clean hifiGenome
		gunzip {input.hifiGenomeFile}
		hifiGenomeUnzipped=$(echo {input.hifiGenomeFile} | rev | cut -d"." -f2- | rev)
		awk '{print $1}' $hifiGenomeUnzipped > temp_hifi_genome.fa
		mv temp_hifi_genome.fa > $hifiGenomeUnzipped
		sed -e 's/\(^>.*$\)/##/' $hifiGenomeUnzipped | tr -d "" | tr -d "
" | sed -e 's/$/#/' | tr "#" "
" | sed -e '/^$/d' > {output.hifiGenomeCleaned}
	
